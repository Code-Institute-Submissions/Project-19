{% extends 'layout.template.html' %}

{% block title %}Recipes{% endblock %}

{% block content %}
<section class="allRecipes">
	<div class="container py-5">
		<div class="allRecipesBox">

            <div class="row">
                <div class="col-sm">
                    <!--search engine starts-->
                    <form class="form-inline my-2 my-lg-0" method="GET">
                        <input class="form-control mr-sm-2t" type="search" placeholder="Search for a recipe" aria-label="Search" name="search-terms" {% if search_terms != "" and search_terms is not none %} value="{{search_terms}}" {% endif %}>
                        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                    </form>
                    <!--search engine ends-->
                </div>
                <div class="col-sm">
                    <h2 class="mb-3 text-right">All recipes in CookBooks</h2>
                </div>
            </div>


            <hr class="mb-5">
            <p>{{cuisine_name}}</p>
			<nav class="navbar navbar-expand-lg navbar-light bg-light mb-4">
				<a class="navbar-brand" href="/recipes">All</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
			    <span class="navbar-toggler-icon"></span>
			  </button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a href="/recipes/5f187bbc68fb56bd9233a1ed">American</a>
						</li>
						<li class="nav-item">
							<a href="#">Chinese</a>
						</li>
						<li class="nav-item">
							<a href="#">French</a>
						</li>
						<li class="nav-item">
							<a href="#">Italian</a>
						</li>
                        <li class="nav-item">
							<a href="#">Japanese</a>
						</li>
                        <li class="nav-item">
							<a href="#">Korean</a>
						</li>
                        <li class="nav-item">
							<a href="#">Thailand</a>
						</li>
                        <li class="nav-item">
							<a href="#">Others</a>
						</li>
					</ul>
				</div>
			</nav>


























			<div class="row">
				{% for a in all_recipes %}
				<div class="col-sm-3 mb-5">
					<div class="card h-100 shadow mb-4" id="cardEffect">
						<a href="{{ url_for('board_view', recipe_id=a._id, page=page, search_terms=search_terms) }}" class="remove-hyperlink">

							{% if a.uploaded_file_url %}
							<img class="card-img-top" src="{{a.uploaded_file_url}}" alt="Recipe Image">
                            {% endif %}

							<div class="card-body">
								<h6 class="card-title">{{a.title}}</h6>
								<blockquote class="blockquote text-muted"><p class="text-overflow">"{{a.about}}"</p></blockquote>
							</div>

						</a>
					</div>
				</div>
				{% endfor %}

			</div>


            <!--paging starts-->
            <div class="pagination mt-5 mb-2">
                {% if block_start - 1 > 0 %}
                    <a href="{{url_for('show_all_recipes', page=block_start-1, search_terms=search_terms)}}" class="px-2">&laquo;</a>
                {% endif %}


                {% for i in range(block_start, block_last + 1) %}
                    {% if i > last_page_num %}
                        
                    {% else %}
                        {% if i == page %}
                            <b>{{i}}</b>
                        {% else %}
                            <a href="{{url_for('show_all_recipes', page=i, search_terms=search_terms)}}" class="px-2 activePage">{{i}}</a>
                        {% endif %}
                    {% endif %}
                {% endfor %}

                {% if block_last < last_page_num %}
                    <a href="{{url_for('show_all_recipes', page=block_last+ 1, search_terms=search_terms)}}" class="px-2">&raquo;</a>
                {% endif %}
            </div>
            <!--paging ends-->
            



            

		</div>
	</div>
</section>
{% endblock %}

